# BBS

> Generated by [`prisma-markdown`](https://github.com/samchon/prisma-markdown)

-   [All](#All)
-   [User](#User)
-   [BBS](#BBS)

## All

```mermaid
erDiagram
users {
    String id PK
    String name
    String image_url "nullable"
    String email "nullable"
    DateTime created_at
    DateTime updated_at
    DateTime deleted_at "nullable"
}
articles {
    String id PK
    String author_id FK
    DateTime created_at
    DateTime deleted_at "nullable"
}
article_snapshots {
    String id PK
    String article_id FK
    String title
    String body
    DateTime created_at
}
article_comments {
    String id PK
    String article_id FK
    String parent_id FK "nullable"
    String author_id FK
    DateTime created_at
    DateTime deleted_at "nullable"
}
article_comment_snapshots {
    String id PK
    String comment_id FK
    String content
    DateTime created_at
}
articles }|--|| users : author
article_snapshots }|--|| articles : article
article_comments }|--|| articles : article
article_comments }o--o| article_comments : parent
article_comments }|--|| users : author
article_comment_snapshots }|--|| article_comments : comment
```

### `users`

User Root Entity

**Properties**

-   `id`
    > record identity
    >
    > `uuid` type
-   `name`: displayed username in service
-   `image_url`: url path for profile image
-   `email`: verified email address
-   `created_at`: creation time of record
-   `updated_at`: revision time of record
-   `deleted_at`
    > deletion time of record
    >
    > if null, a record is soft-deleted

### `articles`

Article Root Entity

**Properties**

-   `id`
    > record identity
    >
    > `uuid` type
-   `author_id`: referenced in `users`
-   `created_at`: creation time of record
-   `deleted_at`
    > deletion time of record
    >
    > if null, a record is soft-deleted

### `article_snapshots`

Snapshot of Article

a `article_snapshot` contains all content of the article.

if article update body or title, a new article_snapshot is created.

**Properties**

-   `id`
    > record identity
    >
    > `uuid` type
-   `article_id`: referenced in `articles`
-   `title`: title of article
-   `body`
    > content of article
    >
    > content is only text with 20,000 limit
-   `created_at`: creation time of record

### `article_comments`

Article Comment Root Entity

**Properties**

-   `id`
    > record identity
    >
    > `uuid` type
-   `article_id`: referenced in `articles`
-   `parent_id`
    > referenced in `article_comments`
    >
    > if not null, a comment is reply of parent comment
-   `author_id`: referenced in `users`
-   `created_at`: creation time of record
-   `deleted_at`
    > deletion time of record
    >
    > if null, a record is soft-deleted

### `article_comment_snapshots`

Snapshot of Article Comment

a `article_comment_snapshot` contains all content of the comment.

if comment update body or title, a new article_comment_snapshot is created.

**Properties**

-   `id`
    > record identity
    >
    > `uuid` type
-   `comment_id`: referenced in `article_comments`
-   `content`
    > content of comment
    >
    > content is only text with 1,000 limit
-   `created_at`: creation time of record

## User

```mermaid
erDiagram
users {
    String id PK
    String name
    String image_url "nullable"
    String email "nullable"
    DateTime created_at
    DateTime updated_at
    DateTime deleted_at "nullable"
}
```

### `users`

User Root Entity

**Properties**

-   `id`
    > record identity
    >
    > `uuid` type
-   `name`: displayed username in service
-   `image_url`: url path for profile image
-   `email`: verified email address
-   `created_at`: creation time of record
-   `updated_at`: revision time of record
-   `deleted_at`
    > deletion time of record
    >
    > if null, a record is soft-deleted

## BBS

```mermaid
erDiagram
articles {
    String id PK
    String author_id FK
    DateTime created_at
    DateTime deleted_at "nullable"
}
article_snapshots {
    String id PK
    String article_id FK
    String title
    String body
    DateTime created_at
}
article_comments {
    String id PK
    String article_id FK
    String parent_id FK "nullable"
    String author_id FK
    DateTime created_at
    DateTime deleted_at "nullable"
}
article_comment_snapshots {
    String id PK
    String comment_id FK
    String content
    DateTime created_at
}
article_snapshots }|--|| articles : article
article_comments }|--|| articles : article
article_comments }o--o| article_comments : parent
article_comment_snapshots }|--|| article_comments : comment
```

### `articles`

Article Root Entity

**Properties**

-   `id`
    > record identity
    >
    > `uuid` type
-   `author_id`: referenced in `users`
-   `created_at`: creation time of record
-   `deleted_at`
    > deletion time of record
    >
    > if null, a record is soft-deleted

### `article_snapshots`

Snapshot of Article

a `article_snapshot` contains all content of the article.

if article update body or title, a new article_snapshot is created.

**Properties**

-   `id`
    > record identity
    >
    > `uuid` type
-   `article_id`: referenced in `articles`
-   `title`: title of article
-   `body`
    > content of article
    >
    > content is only text with 20,000 limit
-   `created_at`: creation time of record

### `article_comments`

Article Comment Root Entity

**Properties**

-   `id`
    > record identity
    >
    > `uuid` type
-   `article_id`: referenced in `articles`
-   `parent_id`
    > referenced in `article_comments`
    >
    > if not null, a comment is reply of parent comment
-   `author_id`: referenced in `users`
-   `created_at`: creation time of record
-   `deleted_at`
    > deletion time of record
    >
    > if null, a record is soft-deleted

### `article_comment_snapshots`

Snapshot of Article Comment

a `article_comment_snapshot` contains all content of the comment.

if comment update body or title, a new article_comment_snapshot is created.

**Properties**

-   `id`
    > record identity
    >
    > `uuid` type
-   `comment_id`: referenced in `article_comments`
-   `content`
    > content of comment
    >
    > content is only text with 1,000 limit
-   `created_at`: creation time of record
